[buildout]
extensions = buildout.dumppickedversions
             mr.developer
sources-dir = devel
develop =
    .
unzip = true
extends =
          http://download.zope.org/Zope2/index/2.13.5/versions.cfg
          versions.cfg
versions = versions
index = http://pypi.affinitic.be
allow-hosts = pypi.affinitic.be
              eggs.affinitic.be
              packages.affinitic.be
find-links =
        http://packages.affinitic.be/simple
        http://eggs.affinitic.be/
allow-picked-versions = false
parts =
    instance
    omelette
    test
    scripts
    docs
    zopepy
zcml =
    gites.walhebcalendar
    walhebcalendar.db:db.zcml
eggs =
    gites.walhebcalendar
    Products.Zope_Hotfix_20110622

[sources]
walhebcalendar.db = hg ssh://hg.affinitic.be///hg/walhebcalendar.db
affinitic.db = svn svn+ssh://svn.affinitic.be/home/svn/affinitic/python/affinitic.db/trunk
five.grok = svn http://svn.zope.org/repos/main/five.grok/trunk
z3c.soap = svn svn+ssh://svn.zope.org/repos/main/z3c.soap/trunk
affinitic.zamqp = hg ssh://hg@bitbucket.org/jfroche/affinitic.zamqp


[scripts]
recipe = zc.recipe.egg:scripts
eggs = gites.walhebcalendar
       ZSI

[zopepy]
recipe = zc.recipe.egg
eggs = ${buildout:eggs}
interpreter = zopepy
scripts = zopepy

[instance]
recipe = plone.recipe.zope2instance
user = admin:admin
verbose-security = on
http-address = 6011
zeo-client = False
debug-mode = off
shared-blob = on
zcml = ${buildout:zcml}
zserver-threads = 4
eggs = ${buildout:eggs}
zope-conf-additional =
    <product-config affinitic.zamqp>
      calendar calendar@walhebcalendar 1
    </product-config>

[test]
recipe = zc.recipe.testrunner
eggs = gites.walhebcalendar [test]
       walhebcalendar.db [test]
defaults = ['--tests-pattern', '^f?tests$', '--color']
script = test

[omelette]
recipe = collective.recipe.omelette
eggs = ${buildout:eggs}
       ${test:eggs}

[docs]
recipe = z3c.recipe.sphinxdoc
eggs = gites.walhebcalendar [docs]
build-dir = ${buildout:directory}/docs
default.css = ${buildout:directory}/docs/gdw.css
layout.html = ${buildout:directory}/docs/layout.html
extensions = sphinx.ext.autodoc
             collective.sphinx.includedoc
             collective.sphinx.includechangelog
             sphinxcontrib.sdedit
             repoze.sphinx.autointerface
